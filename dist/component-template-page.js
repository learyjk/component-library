(()=>{var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var u=p((exports,module)=>{var htmlToElement=e=>{let t=document.createElement("template");return setInnerHTML(t,html),t.content.firstChild},setInnerHTML=(e,t)=>{console.log({html:t}),e.innerHTML=t,console.log({elm:e}),Array.from(e.querySelectorAll("script")).forEach(o=>{console.log("script");let n=document.createElement("script");Array.from(o.attributes).forEach(s=>{n.setAttribute(s.name,s.value)});let r=document.createTextNode(o.innerHTML);n.appendChild(r),o.parentNode.replaceChild(n,o)})},addHeadScript=e=>{console.log("addHeadScript");var t=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src=e,t.appendChild(o)},evaluateCode=elm=>{elm.querySelectorAll("script").forEach((scriptTag,index)=>{console.log(`starting run ${index}`),scriptTag.src!==""?(console.log("scriptTab with src: ",scriptTag),addHeadScript(scriptTag.src)):eval(scriptTag.innerHTML),console.log(`finished run ${index}`)})},escapeHtml=e=>{let t=/&/g,o=/</g,n=/\'/g,r=/\"/g,s=/[&<>\"\']/;return e==null?e:(typeof e!="string"&&(e=String(e)),s.test(String(e))?e.replace(t,"&amp;").replace(o,"&lt;").replace(n,"&apos;").replace(r,"&quot;"):e)},init=async()=>{let slug=document.querySelector('[wb-data="slug"]')?.textContent,category=document.querySelector('[wb-data="category"]')?.textContent;if(slug===""||category=="")return;let url=`https://raw.githubusercontent.com/learyjk/component-library/main/${category}/${slug}.html`;try{let response=await fetch(url);console.log({response});let data=await response.text(),parser=new DOMParser,parsedHTML=parser.parseFromString(data,"text/html");if(!parsedHTML)return;let elToAdd=parsedHTML.querySelector("body")?.firstChild;if(!elToAdd)return;console.log({elToAdd}),document.querySelector('[wb-data="preview-wrapper"]')?.append(elToAdd);let scriptTags=elToAdd.querySelectorAll("script");console.log(scriptTags);let scriptsExternal=[],scriptsInline=[];scriptTags.forEach(e=>{e.src!==""?scriptsExternal.push(e):scriptsInline.push(e)}),console.log({scriptsExternal}),console.log({scriptsInline}),scriptsExternal.forEach(e=>{(function(t,o,n){var r,s=t.getElementsByTagName(o)[0];t.getElementById(n)||(r=t.createElement(o),r.id=n,r.onload=function(){console.log("remote script has loaded")},r.async=!0,r.src=e.src,s.parentNode?.insertBefore(r,s))})(document,"script","wb")}),window.addEventListener("load",()=>{console.log("window load event"),scriptsInline.forEach(scriptIn=>{eval(scriptIn.innerHTML)})})}catch(e){console.log("error getting html")}finally{Webflow.destroy(),Webflow.ready(),Webflow.require("ix2").init()}};document.addEventListener("DOMContentLoaded",init);window.addEventListener("load",e=>{console.log("page is fully loaded")});addGlobalEventListener("click",'[wb-data="copy-button"]',async e=>{let t=e.target.closest('[wb-data="copy-button"]'),o=t.querySelector('[wb-data="text"]'),n=t.querySelector('[wb-data="spinner"]'),r=t.querySelector('[wb-data="category"]').textContent.toLowerCase(),s=t.querySelector('[wb-data="slug"]').textContent.toLowerCase(),a={};o.textContent="Copying...",n.style.display="block";let i=`https://raw.githubusercontent.com/learyjk/component-library/main/${r}/${s}.json`,l=c=>{c.clipboardData.setData("application/json",JSON.stringify(a)),c.preventDefault()};try{let d=await(await fetch(i)).text();a=JSON.parse(d),document.addEventListener("copy",l),document.execCommand("copy")}catch{console.error("error copying component")}finally{document.removeEventListener("copy",l),setTimeout(()=>{o.textContent="Copy to Webflow",n.style.display="none"},1e3)}});function addGlobalEventListener(e,t,o){document.addEventListener(e,n=>{n.target.closest(t)&&o(n)})}});u();})();
//# sourceMappingURL=component-template-page.js.map
