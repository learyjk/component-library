(()=>{var d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var u=d((exports,module)=>{var escapeHtml=e=>{let t=/&/g,r=/</g,o=/\'/g,s=/\"/g,a=/[&<>\"\']/;return e==null?e:(typeof e!="string"&&(e=String(e)),a.test(String(e))?e.replace(t,"&amp;").replace(r,"&lt;").replace(o,"&apos;").replace(s,"&quot;"):e)},scriptsExternal=[],scriptsInline=[],init=async()=>{let slug=document.querySelector('[wb-data="slug"]')?.textContent,category=document.querySelector('[wb-data="category"]')?.textContent;if(slug===""||category=="")return;let url=`https://raw.githubusercontent.com/learyjk/component-library/main/${category}/${slug}.html`;try{let response=await fetch(url),data=await response.text(),parser=new DOMParser,parsedHTML=parser.parseFromString(data,"text/html");if(!parsedHTML)return;let elToAdd=parsedHTML.querySelector("body")?.firstChild;if(!elToAdd)return;document.querySelector('[wb-data="preview-wrapper"]')?.append(elToAdd);let scriptTags=elToAdd.querySelectorAll("script");scriptTags.forEach(e=>{e.src!==""?scriptsExternal.push(e):scriptsInline.push(e)});let externalScriptsPromises=[];scriptsExternal.forEach((e,t)=>{externalScriptsPromises.push(new Promise((r,o)=>{(function(s,a,c){var n,l=s.getElementsByTagName(a)[0];s.getElementById(c)||(n=s.createElement(a),n.id=c,n.onload=r,n.async=!0,n.src=e.src,l.parentNode?.insertBefore(n,l))})(document,"script","wb")}))}),console.log(externalScriptsPromises),Promise.all(externalScriptsPromises).then(values=>{console.log("all scripts loaded, ",values),scriptsInline.forEach(scriptInline=>{eval(scriptInline.innerHTML)})})}catch(e){console.log("error getting html")}finally{Webflow.destroy(),Webflow.ready(),Webflow.require("ix2").init()}};document.addEventListener("DOMContentLoaded",init);window.addEventListener("load",e=>{console.log("page is fully loaded")});addGlobalEventListener("click",'[wb-data="copy-button"]',async e=>{let t=e.target.closest('[wb-data="copy-button"]'),r=t.querySelector('[wb-data="text"]'),o=t.querySelector('[wb-data="spinner"]'),s=t.querySelector('[wb-data="category"]').textContent.toLowerCase(),a=t.querySelector('[wb-data="slug"]').textContent.toLowerCase(),c={};r.textContent="Copying...",o.style.display="block";let n=`https://raw.githubusercontent.com/learyjk/component-library/main/${s}/${a}.json`,l=i=>{i.clipboardData.setData("application/json",JSON.stringify(c)),i.preventDefault()};try{let p=await(await fetch(n)).text();c=JSON.parse(p),document.addEventListener("copy",l),document.execCommand("copy")}catch{console.error("error copying component")}finally{document.removeEventListener("copy",l),setTimeout(()=>{r.textContent="Copy to Webflow",o.style.display="none"},1e3)}});function addGlobalEventListener(e,t,r){document.addEventListener(e,o=>{o.target.closest(t)&&r(o)})}});u();})();
//# sourceMappingURL=component-template-page.js.map
