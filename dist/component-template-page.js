(()=>{var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var u=p((exports,module)=>{var htmlToElement=e=>{let t=document.createElement("template");return setInnerHTML(t,html),t.content.firstChild},setInnerHTML=(e,t)=>{console.log({html:t}),e.innerHTML=t,console.log({elm:e}),Array.from(e.querySelectorAll("script")).forEach(o=>{console.log("script");let r=document.createElement("script");Array.from(o.attributes).forEach(c=>{r.setAttribute(c.name,c.value)});let n=document.createTextNode(o.innerHTML);r.appendChild(n),o.parentNode.replaceChild(r,o)})},addHeadScript=e=>{console.log("addHeadScript");var t=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src=e,t.appendChild(o)},evaluateCode=elm=>{elm.querySelectorAll("script").forEach((scriptTag,index)=>{console.log(`starting run ${index}`),scriptTag.src!==""?(console.log("scriptTab with src: ",scriptTag),addHeadScript(scriptTag.src)):eval(scriptTag.innerHTML),console.log(`finished run ${index}`)})},escapeHtml=e=>{let t=/&/g,o=/</g,r=/\'/g,n=/\"/g,c=/[&<>\"\']/;return e==null?e:(typeof e!="string"&&(e=String(e)),c.test(String(e))?e.replace(t,"&amp;").replace(o,"&lt;").replace(r,"&apos;").replace(n,"&quot;"):e)},init=async()=>{let slug=document.querySelector('[wb-data="slug"]')?.textContent,category=document.querySelector('[wb-data="category"]')?.textContent;if(slug===""||category=="")return;let url=`https://raw.githubusercontent.com/learyjk/component-library/main/${category}/${slug}.html`;try{let response=await fetch(url);console.log({response});let data=await response.text(),parser=new DOMParser,parsedHTML=parser.parseFromString(data,"text/html");if(!parsedHTML)return;let elToAdd=parsedHTML.querySelector("body")?.firstChild;if(!elToAdd)return;console.log({elToAdd}),document.querySelector('[wb-data="preview-wrapper"]')?.append(elToAdd);let scriptTags=elToAdd.querySelectorAll("script");console.log(scriptTags),scriptTags.forEach(async scriptTag=>{scriptTag.src!==""?function(e,t,o){var r,n=e.getElementsByTagName(t)[0];e.getElementById(o)||(r=e.createElement(t),r.id=o,r.onload=function(){},r.src=scriptTag.src,n.parentNode?.insertBefore(r,n))}(document,"script","gallery"):eval(scriptTag.innerHTML)})}catch(e){console.log("error getting html")}finally{Webflow.destroy(),Webflow.ready(),Webflow.require("ix2").init()}};document.addEventListener("DOMContentLoaded",init);addGlobalEventListener("click",'[wb-data="copy-button"]',async e=>{let t=e.target.closest('[wb-data="copy-button"]'),o=t.querySelector('[wb-data="text"]'),r=t.querySelector('[wb-data="spinner"]'),n=t.querySelector('[wb-data="category"]').textContent.toLowerCase(),c=t.querySelector('[wb-data="slug"]').textContent.toLowerCase(),s={};o.textContent="Copying...",r.style.display="block";let i=`https://raw.githubusercontent.com/learyjk/component-library/main/${n}/${c}.json`,l=a=>{a.clipboardData.setData("application/json",JSON.stringify(s)),a.preventDefault()};try{let d=await(await fetch(i)).text();s=JSON.parse(d),document.addEventListener("copy",l),document.execCommand("copy")}catch{console.error("error copying component")}finally{document.removeEventListener("copy",l),setTimeout(()=>{o.textContent="Copy to Webflow",r.style.display="none"},1e3)}});function addGlobalEventListener(e,t,o){document.addEventListener(e,r=>{r.target.closest(t)&&o(r)})}});u();})();
//# sourceMappingURL=component-template-page.js.map
