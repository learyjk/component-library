(()=>{var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var u=p((exports,module)=>{var escapeHtml=e=>{let t=/&/g,r=/</g,o=/\'/g,n=/\"/g,s=/[&<>\"\']/;return e==null?e:(typeof e!="string"&&(e=String(e)),s.test(String(e))?e.replace(t,"&amp;").replace(r,"&lt;").replace(o,"&apos;").replace(n,"&quot;"):e)},init=async()=>{let slug=document.querySelector('[wb-data="slug"]')?.textContent,category=document.querySelector('[wb-data="category"]')?.textContent;if(slug===""||category=="")return;let url=`https://raw.githubusercontent.com/learyjk/component-library/main/${category}/${slug}.html`;try{let response=await fetch(url);console.log({response});let data=await response.text(),parser=new DOMParser,parsedHTML=parser.parseFromString(data,"text/html");if(!parsedHTML)return;let elToAdd=parsedHTML.querySelector("body")?.firstChild;if(!elToAdd)return;console.log({elToAdd}),document.querySelector('[wb-data="preview-wrapper"]')?.append(elToAdd);let scriptTags=elToAdd.querySelectorAll("script");console.log(scriptTags);let scriptsExternal=[],scriptsInline=[];scriptTags.forEach(e=>{e.src!==""?scriptsExternal.push(e):scriptsInline.push(e)}),console.log({scriptsExternal}),console.log({scriptsInline}),scriptsExternal.forEach(e=>{(function(t,r,o){var n,s=t.getElementsByTagName(r)[0];t.getElementById(o)||(n=t.createElement(r),n.id=o,n.onload=function(){console.log("remote script has loaded")},n.async=!0,n.src=e.src,s.parentNode?.insertBefore(n,s))})(document,"script","wb")}),window.addEventListener("load",()=>{console.log("window load event"),scriptsInline.forEach(scriptIn=>{eval(scriptIn.innerHTML)})})}catch(e){console.log("error getting html")}finally{Webflow.destroy(),Webflow.ready(),Webflow.require("ix2").init()}};document.addEventListener("DOMContentLoaded",init);window.addEventListener("load",e=>{console.log("page is fully loaded")});addGlobalEventListener("click",'[wb-data="copy-button"]',async e=>{let t=e.target.closest('[wb-data="copy-button"]'),r=t.querySelector('[wb-data="text"]'),o=t.querySelector('[wb-data="spinner"]'),n=t.querySelector('[wb-data="category"]').textContent.toLowerCase(),s=t.querySelector('[wb-data="slug"]').textContent.toLowerCase(),c={};r.textContent="Copying...",o.style.display="block";let i=`https://raw.githubusercontent.com/learyjk/component-library/main/${n}/${s}.json`,l=a=>{a.clipboardData.setData("application/json",JSON.stringify(c)),a.preventDefault()};try{let d=await(await fetch(i)).text();c=JSON.parse(d),document.addEventListener("copy",l),document.execCommand("copy")}catch{console.error("error copying component")}finally{document.removeEventListener("copy",l),setTimeout(()=>{r.textContent="Copy to Webflow",o.style.display="none"},1e3)}});function addGlobalEventListener(e,t,r){document.addEventListener(e,o=>{o.target.closest(t)&&r(o)})}});u();})();
//# sourceMappingURL=component-template-page.js.map
